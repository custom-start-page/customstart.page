<%
    // Gets a month from a digit.
    // i = 0 - 11
    // return a month
    const getMonth = function(i) {
        switch(i) {
            case 0:
                return "January";
            break;
            case 1:
                return "February";
            break;
            case 2:
                return "March";
            break;
            case 3:
                return "April";
            break;
            case 4:
                return "May";
            break;
            case 5:
                return "June";
            break;
            case 6:
                return "July";
            break;
            case 7:
                return "August";
            break;
            case 8:
                return "September";
            break;
            case 9:
                return "October";
            break;
            case 10:
                return "November";
            break;
            case 11:
                return "December";
            break;
        }
    };

    // Gets an ordinal ("th", "st", "nd" or "rd") from a number and returns
    // the original number as well as the ordinal.
    // https://gist.github.com/jlbruno/1535691
    const getOrdinal = function(n) {
        var s = ["th","st","nd","rd"],
            v = n % 100;

        return n + (s[(v-20) % 10] || s[v] || s[0]);
    };

    // A general way for rendering dates on the front end.
    const friendlyDate = function(d) {
        var date = new Date(d);
        return getOrdinal(date.getDate())
            + " " + getMonth(date.getMonth())
            + " " + date.getFullYear();
    };
%>
<div class="container">
    <h1><%= pageTitle %></h1>
    <% news.forEach(newsItem => { %>
        <h2><%= friendlyDate(newsItem.date) %></h2>
        <%- newsItem.bodyText %>
    <% }); %>
</div>
